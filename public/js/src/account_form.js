// Generated by CoffeeScript 1.7.1
(function() {
  angular.module('rdio-sync', ['ngRoute', 'ngResource']).factory('socket', function($rootScope) {
    var socket;
    socket = io.connect('http://localhost:3003');
    return {};
  }).config(function($locationProvider, $routeProvider) {
    $locationProvider.html5Mode(true);
    return $routeProvider.when('/', {
      templateUrl: '/landing.html'
    }).when('/accounts/:id', {
      controller: 'AcountsController',
      templateUrl: '/account.html'
    }).otherwise({
      redirectTo: '/'
    });
  }).controller('AcountsController', function($scope, $resource, $routeParams, socket) {
    var Account;
    Account = $resource('/api/v1/accounts/:id', {
      id: '@id'
    }, {
      update: {
        method: 'PUT',
        isArray: false
      }
    });
    $scope.loading = true;
    $scope.account = Account.get({
      id: $routeParams.id
    }, function() {
      return $scope.loading = false;
    });
    $scope.syncAccount = function() {
      $scope.loading = true;
      $scope.account.sync_now = true;
      return $scope.account.$update(function() {
        $scope.loading = false;
        return $scope.account.sync_now = false;
      });
    };
    return $scope.updateAccount = function() {
      $scope.loading = true;
      return $scope.account.$update(function() {
        return $scope.loading = false;
      });
    };
  });

}).call(this);

//# sourceMappingURL=account_form.map
